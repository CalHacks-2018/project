let lastCountry;
$( function () {
    const map = $( '#world-map-gdp' ).vectorMap( {
        map: 'world_mill',
        series: {
            regions: [ {
                values: gdpData,
                scale: [ '#420dab', '#adffec' ],
                normalizeFunction: 'polynomial',
            } ]
        },
        backgroundColor: '#151515',
        onRegionTipShow: function ( e, el, code ) {
            lastCountry = el.html();
            el.html( el.html() + ` (Number of Topics: ${gdpData[code]==undefined?'No Data':gdpData[code]})`);
        },
        onRegionClick: function (){
            window.location = './country.html?country=' + lastCountry;
        }
    } );    
} );
var gdpData = {
    "AF": 315,
    "AL": 60,
    "DZ": 148,
    "AO": 52,
    "AG": 3,
    "AR": 1626,
    "AM": 149,
    "AU": 1254,
    "AT": 872,
    "AZ": 77,
    "BS": 12,
    "BH": 39,
    "BD": 108,
    "BB": 12,
    "BY": 301,
    "BE": 1091,
    "BZ": 4,
    "BJ": 9,
    "BT": 8,
    "BO": 176,
    "BA": 933,
    "BW": 3,
    "BR": 2296,
    "BN": 0,
    "BG": 559,
    "BF": 21,
    "BI": 7,
    "KH": 19,
    "CM": 50,
    "CA": 1894,
    "CV": 40,
    "CF": 14,
    "TD": 5,
    "CL": 442,
    "CN": 2218,
    "CO": 667,
    "KM": 7,
    "CD": 103,
    "CG": 102,
    "CR": 36,
    "CI": 1,
    "HR": 9,
    "CY": 10,
    "CZ": 380,
    "DK": 142,
    "DJ": 0,
    "DM": 4,
    "DO": 264,
    "EC": 151,
    "EG": 1680,
    "SV": 52,
    "GQ": 11,
    "ER": 4,
    "EE": 0,
    "ET": 58,
    "FJ": 11,
    "FI": 134,
    "FR": 3991,
    "GA": 9,
    "GM": 6,
    "GE": 97,
    "DE": 4660,
    "GH": 390,
    "GR": 10,
    "GD": 10,
    "GT": 10,
    "GN": 10,
    "GW": 10,
    "GY": 10,
    "HT": 10,
    "HN": 10,
    "HK": 10,
    "HU": 10,
    "IS": 10,
    "IN": 5101,
    "ID": 10,
    "IR": 10,
    "IQ": 10,
    "IE": 10,
    "IL": 10,
    "IT": 10,
    "JM": 10,
    "JP": 1633,
    "JO": 10,
    "KZ": 257,
    "KE": 204,
    "KI": 10,
    "KP": 122,
    "KR": 276,
    "GL": 4,
    "KW": 10,
    "KG": 10,
    "LA": 10,
    "LV": 10,
    "LB": 192,
    "LS": 10,
    "LR": 10,
    "LY": 129,
    "LT": 10,
    "LU": 16,
    "MK": 10,
    "MG": 10,
    "MW": 10,
    "MY": 272,
    "MV": 10,
    "ML": 33,
    "MT": 10,
    "MR": 10,
    "MU": 10,
    "MX": 1849,
    "MD": 10,
    "MN": 2,
    "ME": 86,
    "MA": 387,
    "MZ": 37,
    "MM": 55,
    "NA": 10,
    "NP": 33,
    "NL": 509,
    "NZ": 241,
    "NI": 51,
    "NE": 10,
    "NG": 1532,
    "NO": 129,
    "OM": 33,
    "PK": 1289,
    "PA": 40,
    "PG": 57,
    "PY": 29,
    "PE": 538,
    "PH": 10,
    "PL": 10,
    "PT": 10,
    "QA": 10,
    "RO": 10,
    "RU": 3810,
    "RW": 31,
    "WS": 0,
    "ST": 10,
    "SA": 5,
    "SN": 142,
    "RS": 1228,
    "SC": 3,
    "SL": 11,
    "SG": 6,
    "SK": 150,
    "SI": 10,
    "SB": 10,
    "ZA": 568,
    "ES": 5003,
    "LK": 84,
    "KN": 10,
    "LC": 10,
    "VC": 10,
    "SD": 114,
    "SR": 10,
    "SZ": 10,
    "SE": 415,
    "CH": 840,
    "SY": 534,
    "TW": 331,
    "TJ": 10,
    "TZ": 10,
    "TH": 152,
    "TL": 10,
    "TG": 10,
    "TO": 10,
    "TT": 10,
    "TN": 10,
    "TR": 8067,
    "TM": 10,
    "UG": 65,
    "UA": 2638,
    "AE": 800,
    "GB": 10,
    "US": 15839,
    "UY": 103,
    "UZ": 82,
    "VU": 4,
    "VE": 550,
    "VN": 52,
    "YE": 457,
    "ZM": 10,
    "ZW": 194
}